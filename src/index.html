<!DOCTYPE html>
<html dir="ltr" lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />
  <title>Stencil Component Starter</title>

  <script type="module" src="/build/teststencil.esm.js"></script>
  <script nomodule src="/build/teststencil.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700;800&display=swap"
    rel="stylesheet" />
</head>
<style>
  body {
    background: #f3f3f3;
    font-family: "Open Sans", "Sergoe UI", "Helvetica Neue", sans-serif;
    display: flex;
    flex-direction: column;
    height: 100vh;
    justify-content: center;
    align-items: center;
  }
</style>
<script>
  window.addEventListener("valueChange", (ev) => console.log(ev));
  window.addEventListener("inputChange", (ev) => checkInput(ev.detail));

  let isError = { status: false, message: "", priority: false }
  const handleSubmit = () => {
  };

  focusMethod = function getFocus() {
    document.getElementById("myTextField").focus();
  }
  const checkInput = (data) => {
    let inputArray = document.getElementsByTagName("mr-simple-input");

    if (/\d/.test(data.value) && data.name !== "Telephone")
      isError = { status: true, message: "Ce champs ne peut contenir que des nombres", priority: false }
    else if (data.name === "Telephone" && data.value.length < 10) isError = { status: true, message: "Le numéro de téléphone n'est pas valide", priority: false }
    else isError = { status: false, message: "" }

    for (i = 0; i < inputArray.length; i++) {
      if (inputArray[i].name === data.name) inputArray[i].isError = isError
    }
  }
</script>

<body>
  <mr-card
    style="width: 80vw; height: 80vh; display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <mr-simple-input placeholder="Moben&Rooster" name="Entreprise"></mr-simple-input>
    <mr-simple-input name="Nom" placeholder="AppleSeed"></mr-simple-input>
    <mr-simple-input name="Prénom" placeholder="John"></mr-simple-input>
    <mr-simple-input name="Courriel" placeholder="example@example.fr" type="email"></mr-simple-input>
    <mr-simple-input name="Telephone" placeholder="0638101305" type="number"></mr-simple-input>
  </mr-card>
</body>

</html>